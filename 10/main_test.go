package main

import (
	"testing"
)

func Test_Calc(t *testing.T) {
	tests := []struct {
		s string
		a point
		o int
	}{
		{`......#.#.
#..#.#....
..#######.
.#.#.###..
.#..#.....
..#....#.#
#..#....#.
.##.#..###
##...#..#.
.#....####`,
			point{5, 8},
			33,
		},
		{
			`#.#...#.#.
.###....#.
.#....#...
##.#.#.#.#
....#.#.#.
.##..###.#
..#...##..
..##....##
......#...
.####.###.`,
			point{1, 2},
			35,
		},
		{
			`.#..#..###
####.###.#
....###.#.
..###.##.#
##.##.#.#.
....###..#
..#.#..#.#
#..#.#.###
.##...##.#
.....#.#..`,
			point{6, 3},
			41,
		},
		{
			`.#..##.###...#######
##.############..##.
.#.######.########.#
.###.#######.####.#.
#####.##.#.##.###.##
..#####..#.#########
####################
#.####....###.#.#.##
##.#################
#####.##.###..####..
..######..##.#######
####.##.####...##..#
.#####..#.######.###
##...#.##########...
#.##########.#######
.####.#.###.###.#.##
....##.##.###..#####
.#.#.###########.###
#.#.#.#####.####.###
###.##.####.##.#..##`,
			point{11, 13},
			210,
		},
	}

	for _, test := range tests {
		s := parseStarfield(test.s)

		x, c := s.findBestPosition()
		if x != test.a || c != test.o {
			t.Error(x)
		}
	}
}
